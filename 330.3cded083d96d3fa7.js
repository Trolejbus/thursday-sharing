"use strict";(self.webpackChunkthursday_sharing=self.webpackChunkthursday_sharing||[]).push([[330],{9330:(G,S,o)=>{o.r(S),o.d(S,{SetLoadingModule:()=>E});var p=o(6895),v=o(1135),A=o(5121),l=o(4004),L=o(9646),U=o(1566),C=o(7272),x=o(5698),b=o(4482),f=o(5403),$=o(5032),M=o(9718),J=o(5577);function j(e,n){return n?i=>(0,C.z)(n.pipe((0,x.q)(1),function I(){return(0,b.e)((e,n)=>{e.subscribe((0,f.x)(n,$.Z))})}()),i.pipe(j(e))):(0,J.z)((i,a)=>e(i,a).pipe((0,x.q)(1),(0,M.h)(i)))}var z=o(5963);function y(e,n=U.z){const i=(0,z.H)(e,n);return j(()=>i)}var F=o(9751),u=o(7579),O=o(8421),Q=o(4671),N=o(3269);function T(...e){const n=(0,N.jO)(e);return(0,b.e)((i,a)=>{const c=e.length,d=new Array(c);let g=e.map(()=>!1),m=!1;for(let r=0;r<c;r++)(0,O.Xf)(e[r]).subscribe((0,f.x)(a,h=>{d[r]=h,!m&&!g[r]&&(g[r]=!0,(m=g.every(Q.y))&&(g=null))},$.Z));i.subscribe((0,f.x)(a,r=>{if(m){const h=[r,...d];a.next(n?n(...h):h)}}))})}var t=o(8256);class s{constructor(){this.loadsSubject$=new v.X([]),this.startLoadingSubject$=new u.x,this.startLoading$=this.startLoadingSubject$.pipe(T(this.loadsSubject$),(0,l.U)(([n,i])=>({info:n,infos:i}))),this.stopLoadingSubject$=new u.x,this.stopLoading$=this.stopLoadingSubject$.pipe(T(this.loadsSubject$),(0,l.U)(([n,i])=>({key:n,infos:i}))),this.isLoading$=this.loadsSubject$.pipe((0,l.U)(n=>({isLoading:n.length>0,text:n.find(i=>null!=i.text)?.text}))),this.startLoading$.subscribe(n=>{this.loadsSubject$.next([...n.infos,n.info])}),this.stopLoading$.subscribe(n=>{this.loadsSubject$.next(n.infos.filter(i=>i.key!==n.key))}),s.startLoadingStatic$.subscribe(n=>{this.startLoadingSubject$.next(n)}),s.stopLoadingStatic$.subscribe(n=>{this.stopLoadingSubject$.next(n)})}static startStatic(n,i=null){this.startLoadingStatic$.next({key:n,text:i})}static stopStatic(n){this.stopLoadingStatic$.next(n)}start(n,i=null){this.startLoadingSubject$.next({key:n,text:i})}stop(n){this.stopLoadingSubject$.next(n)}}function Z(e=null){return n=>new F.y(i=>{const a=Math.floor(1e9*Math.random()).toString();s.startStatic(a,e);const c=n.subscribe({next:d=>{i.next(d)},error:d=>{s.stopStatic(a),i.error(d)},complete:()=>{s.stopStatic(a),i.complete()}});return()=>(s.stopStatic(a),c)})}function Y(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const i=t.oxw(2).ngIf;t.xp6(1),t.hij("with text: ",i.isLoading.text,"")}}function W(e,n){if(1&e&&(t.TgZ(0,"div"),t._uU(1," Loading "),t.YNc(2,Y,2,1,"span",6),t.qZA()),2&e){const i=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",null!=i.isLoading.text)}}function X(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._uU(2," This is rxjs operator, which "),t._UZ(3,"br")(4,"br"),t._uU(5," This is only example code, and should be tested before production. "),t._UZ(6,"br")(7,"br"),t._uU(8," See code at: "),t.TgZ(9,"a",3),t._uU(10,"github"),t.qZA()(),t.TgZ(11,"code",4),t.IAx(),t.TgZ(12,"pre"),t._uU(13,"public callApi(): void {\n    of(null).pipe(\n        delay(3000),\n        showLoading(),\n    ).subscribe(() => {\n    this.incrementSubject$.next(this.incrementSubject$.value + 1);\n    });\n}\n\npublic callApiWithText(): void {\n    of(null).pipe(\n        delay(3000),\n        showLoading('Loading...'),\n    ).subscribe(() => {\n        this.incrementSubject$.next(this.incrementSubject$.value + 1);\n    });\n}\n        "),t.qZA(),t.fQ9(),t.qZA(),t.TgZ(14,"div"),t._uU(15),t.qZA(),t.TgZ(16,"button",5),t.NdJ("click",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.callApi())}),t._uU(17,"Trigger load"),t.qZA(),t.TgZ(18,"button",5),t.NdJ("click",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.callApiWithText())}),t._uU(19,"Trigger load with text"),t.qZA(),t.YNc(20,W,3,1,"div",6),t.qZA()}if(2&e){const i=n.ngIf;t.xp6(15),t.hij(" Increment: ",i.increment," "),t.xp6(1),t.Q6J("disabled",i.isLoading.isLoading),t.xp6(2),t.Q6J("disabled",i.isLoading.isLoading),t.xp6(2),t.Q6J("ngIf",i.isLoading.isLoading)}}s.startLoadingStatic$=new u.x,s.stopLoadingStatic$=new u.x,s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac});let w=(()=>{class e{constructor(i){this.loadingService=i,this.incrementSubject$=new v.X(0),this.vm$=(0,A.a)([this.loadingService.isLoading$,this.incrementSubject$]).pipe((0,l.U)(([a,c])=>({isLoading:a,increment:c})))}ngOnInit(){}callApi(){(0,L.of)(null).pipe(y(3e3),Z()).subscribe(()=>{this.incrementSubject$.next(this.incrementSubject$.value+1)})}callApiWithText(){(0,L.of)(null).pipe(y(3e3),Z("Loading...")).subscribe(()=>{this.incrementSubject$.next(this.incrementSubject$.value+1)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-set-loading"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"hint"],["href","https://github.com/Trolejbus/thursday-sharing/tree/main/thursday-sharing/src/app/examples/set-loading","target","_blank"],[2,"white-space","pre"],[3,"disabled","click"],[4,"ngIf"]],template:function(i,a){1&i&&(t.YNc(0,X,21,4,"div",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,a.vm$))},dependencies:[p.O5,p.Ov],changeDetection:0}),e})();var B=o(8583);const H=[{path:"**",pathMatch:"full",component:w}];let E=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[s],imports:[p.ez,B.Bz.forChild(H)]}),e})()}}]);